// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource postgresql {
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
  provider          = "postgresql"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id                     Int       @id @default(autoincrement())
  name                   String    @default("")
  email                  String    @unique @default("")
  password               String
  role                   String    @default("contributor")
  isProtected            Boolean   @default(false)
  createdAt              DateTime?
  updatedAt              DateTime?
  createdBy              User?     @relation("User_createdBy", fields: [createdById], references: [id])
  createdById            Int?      @map("createdBy")
  updatedBy              User?     @relation("User_updatedBy", fields: [updatedById], references: [id])
  updatedById            Int?      @map("updatedBy")
  from_User_createdBy    User[]    @relation("User_createdBy")
  from_User_updatedBy    User[]    @relation("User_updatedBy")
  from_Partner_createdBy Partner[] @relation("Partner_createdBy")
  from_Partner_updatedBy Partner[] @relation("Partner_updatedBy")

  @@index([createdById])
  @@index([updatedById])
}

model Partner {
  id          Int       @id @default(autoincrement())
  slug        String    @unique @default("")
  name        String    @default("")
  website     String    @default("")
  isPublic    Boolean   @default(false)
  createdAt   DateTime?
  updatedAt   DateTime?
  createdBy   User?     @relation("Partner_createdBy", fields: [createdById], references: [id])
  createdById Int?      @map("createdBy")
  updatedBy   User?     @relation("Partner_updatedBy", fields: [updatedById], references: [id])
  updatedById Int?      @map("updatedBy")

  @@index([name])
  @@index([createdById])
  @@index([updatedById])
}
